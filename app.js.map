{"version":3,"sources":["webpack:///webpack/bootstrap 37046401af1e88aed48c","webpack:///./src/scripts/main.js","webpack:///./src/scripts/App.js","webpack:///./src/af/af.js","webpack:///./src/af/util/functions.js","webpack:///./src/af/core/objects/Engine.js","webpack:///./src/af/util/make.js","webpack:///./src/af/core/prototypes/ApplicationScope.js","webpack:///./src/af/core/prototypes/Catalog.js","webpack:///./src/af/core/objects/Extendables.js","webpack:///./src/af/core/prototypes/ApplicationScopeInterface.js","webpack:///./src/af/core/objects/Scopes.js","webpack:///./src/af/core/prototypes/ApplicationScopePrivatePrototype.js","webpack:///./src/af/core/prototypes/Interface.js","webpack:///./src/af/core/prototypes/ServiceScopeInterface.js","webpack:///./src/af/core/prototypes/MozillaAddonScopeInterface.js","webpack:///./src/af/core/prototypes/ServiceScope.js","webpack:///./src/af/core/prototypes/Application.js","webpack:///./src/af/core/prototypes/Thread.js","webpack:///./src/af/core/objects/Shared.js","webpack:///./src/af/core/prototypes/ApplicationInternal.js","webpack:///./src/af/modules/DataBinding.js","webpack:///./src/af/modules/DataBinding/Template.js","webpack:///./src/af/modules/DataBinding/Bind.js","webpack:///./src/af/modules/DataBinding/Parser.js","webpack:///./src/af/modules/DataBinding/Mapping.js","webpack:///./src/af/modules/DataBinding/Util.js","webpack:///./src/af/modules/DataBinding/Binding.js","webpack:///./src/af/modules/DataBinding/ClassBinding.js","webpack:///./src/af/modules/DataBinding/TwoWayBinding.js","webpack:///./src/af/modules/DataBinding/ScopePrototype.js","webpack:///./src/af/modules/DataBinding/EnabledBinding.js","webpack:///./src/af/modules/DataBinding/TemplateRepeatBinding.js","webpack:///./src/af/modules/DataBinding/AutoBinding.js","webpack:///./src/af/modules/DataBinding/TemplateLoader.js","webpack:///./src/af/core/prototypes/NetworkRequest.js","webpack:///./src/af/modules/DataBinding/ViewPort.js","webpack:///./src/scripts/UiPage.js","webpack:///./src/scripts/MainView.js","webpack:///./src/scripts/Profile.js","webpack:///./src/scripts/Word.js","webpack:///./src/scripts/WordManager.js","webpack:///./src/scripts/WordTrainer.js","webpack:///./src/scripts/TestUnit.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 37046401af1e88aed48c\n **/","import App from './App.js';\nimport { DataBinding } from '../af/modules/DataBinding.js';\nimport UiPage from './UiPage.js';\nimport './MainView.js';\nimport './WordManager.js';\nimport './WordTrainer.js';\n\nlet once = false;\n\nlet bootstrap = function(){\n    let queue = [];\n\n    console.log('ready!');\n\n    [].slice.apply(document.querySelectorAll('link[rel=\"import-async\"]')).forEach(element => {\n        let node = document.createElement('link');\n\n        node.setAttribute('rel', 'import');\n        node.setAttribute('href', element.href);\n\n        queue.push(new Promise(success => node.addEventListener('load', success)));\n\n        element.parentNode.replaceChild(node, element);\n    });\n\n    Promise.all(queue).then(() => {\n        console.log('all components loaded!');\n\n        UiPage.init();\n\n        setTimeout(() => {\n            DataBinding.bindNode('.style-spinner-start', {\n                active : false\n            });\n        }, 0);\n    });\n};\n\nif (window.Polymer && window.Polymer.ImportStatus._ready) {\n    Polymer.ImportStatus.whenReady(bootstrap);\n} else {\n    window.addEventListener('WebComponentsReady', bootstrap);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/main.js\n **/","import {$, $_ } from '../af/af.js';\n\nlet App = $('applications').new('app');\n\nexport default App;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/App.js\n **/","/**\n * @module ApplicationFrame\n * @version 0.1.0\n * @copyright by TitanNano / Jovan Gerodetti - {@link http://www.titannano.de}\n */\n\n\"use strict\";\n\n// import { Make } from './util/make.js';\nimport { objectExtend } from './util/functions.js';\nimport Engine from './core/objects/Engine.js';\nimport { Make, hasPrototype, Mixin } from './util/make.js';\nimport Application from './core/prototypes/Application.js';\n\nvar $$ = window ||global;\n\n/**\n * @param {navigator.userAgent} userAgentString\n * @return {UserAgent}\n */\nvar userAgentParser= function(userAgentString){\n\tvar items= [];\n\tvar current= '';\n\tvar enabled= true;\n\tvar version= '';\n\tvar engines= ['Gecko', 'AppleWebKit', 'Firefox', 'Safari', 'Chrome', 'OPR', 'Trident'];\n\tvar found= [];\n\tvar record= {};\n\n\tfor(var i= 0; i < userAgentString.length; i++){\n\t\tif(userAgentString[i] == ' ' && enabled){\n\t\t\titems.push(current);\n\t\t\tcurrent= '';\n\t\t}else if(userAgentString[i] == '('){\n\t\t\tenabled= false;\n\t\t}else if(userAgentString[i] == ')'){\n\t\t\tenabled= true;\n\t\t}else{\n\t\t\tcurrent+= userAgentString[i];\n\t\t}\n\t}\n\titems.push(current);\n\n\titems.forEach(function(item){\n\t\tif(item.indexOf(';') > -1){\n\t\t\trecord.platform= item;\n\t\t}else if(item.indexOf('/') > -1){\n\t\t\titem= item.split('/');\n\t\t\tif(item[0] == 'Version'){\n\t\t\t\tversion= item[1];\n\t\t\t}else{\n\t\t\t\titem.push(engines.indexOf(item[0]));\n\t\t\t\tfound.push(item);\n\t\t\t}\n\t\t}\n\t});\n\n\tif(found.length == 1){\n\t\trecord.engine= found[0][0];\n\t\trecord.engineVersion= found[0][1];\n\t}else if(found.length > 1){\n\t\tfound.sort(function(a, b){\n\t\t\tif(a[2] < b[2])\n\t\t\t\treturn 0;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t});\n\t\trecord.engine= found[found.length-1][0];\n\t\trecord.engineVersion= found[found.length-1][1];\n\t}else{\n\t\trecord.engine= 'unknown';\n\t\trecord.engineVersion= '1';\n\t}\n\n\trecord.arch= 'x32';\n\n\trecord.platform.substring(1, record.platform.length-2).split('; ').forEach(function(item){\n\t\tif(item.indexOf('OS X') > -1){\n\t\t\trecord.platform= item;\n\t\t\trecord.arch= 'x64';\n\t\t}else if(item.indexOf('Windows') > -1){\n\t\t\trecord.platform= item;\n\t\t}else if(item.indexOf('Linux') > -1){\n\t\t\trecord.platform= item;\n\t\t}else if(item.indexOf('WOW64') > -1 || item.indexOf('Win64') > -1 || item.indexOf('x64') > -1){\n\t\t\trecord.arch= 'x64';\n\t\t}else if(item.indexOf('/') > -1){\n\t\t\tif(engines.indexOf(item.split('/')[0]) > -1){\n\t\t\t\trecord.engine= item.split('/')[0];\n\t\t\t\trecord.engineVersion= item.split('/')[1];\n\t\t\t}\n\t\t}else if(item.indexOf(':') < 0){\n            record.platform = item;\n        }\n\t});\n\n\tif(version !== ''){\n\t\trecord.engineVersion= version;\n\t}\n\n\treturn record;\n};\n\n// find out which engine is used\nif ($$.navigator){\n\tEngine.info.type= 'Web';\n\tobjectExtend.apply(Engine.info, [userAgentParser(navigator.userAgent)]);\n\n//  check if touchscreen is supported\n    $$.navigator.isTouch = 'ontouchstart' in $$;\n\n// check if current platform is the Mozilla Add-on runtime\n}else if($$.exports && $$.require && $$.module){\n    var system= $$.require('sdk/system');\n\tobjectExtend.apply(Engine.info, [{\n\t\tengine : system.name,\n\t\tengineVersion : system.version,\n\t\tplatform : system.platform + ' ' + system.platformVersion,\n\t\ttype : 'MozillaAddonSDK',\n\t\tarch : system.architecture\n\t}]);\n\n// check if current platform is the Node.js runtime\n}else if($$.process && $$.process.versions && $$.process.env && $$.process.pid){\n    objectExtend.apply(Engine.info, [{\n\t\tengine : $$.process.name,\n\t\tengineVersion : $$.process.versions.node,\n\t\tplatform : $$.process.platform,\n\t\tarch : $$.process.arch,\n\t\ttype : 'Node'\n\t}]);\n}\n\n/**\n * @type {module:Engine~Engine.getLibraryItem}\n * @static\n */\nexport var $= Engine.getLibraryItem;\n\n/**\n * @type {module:Engine~Engine.getScope}\n * @static\n */\nexport var $_= Engine.getScope;\n\nexport default {\n    Util : {\n        Make : Make,\n        hasPrototype : hasPrototype,\n        Mixin : Mixin\n    },\n\n    Prototypes : {\n        Application : Application\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/af.js\n **/","export var objectExtend = function(update){\n\n    Object.keys(update).forEach(item => {\n\t\tif(typeof update[item] == 'object' && !Array.isArray(update[item]) && update[item] !== null)\n\t\t\tobjectExtend.apply(this[item], [update[item]]);\n\t\telse\n\t\t\tthis[item]= update[item];\n\t});\n};\n\nexport var cloneObject= function(object){\n\treturn JSON.parse(JSON.stringify(object));\n};\n\n// this function creates a new unique id\nexport var createUniqueId= function(){\n\tvar time = Date.now();\n\twhile (time == Date.now()){}\n\treturn Date.now();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/util/functions.js\n **/","/**\n * @module Engine\n * @author Jovan Gerodetti <jovan@titannao.de>\n * @copyright by TitanNano / Jovan Gerodetti - {@link http://www.titannano.de}\n * @role Inner\n */\n\nimport { Make } from '../../util/make.js';\nimport { objectExtend, cloneObject, createUniqueId } from '../../util/functions.js';\nimport ApplicationScope from '../prototypes/ApplicationScope.js';\nimport ServiceScope from '../prototypes/ServiceScope.js';\nimport Scopes from './Scopes.js';\nimport Extendables from './Extendables.js';\n\nvar $$ = window;\n\n/**\n * The engine holds private flags, arrays and functions.\n *\n * @namespace\n * @inner\n */\nvar Engine = {\n\n\t/**\n\t * @namespace\n\t */\n\tshared : {\n\n\t\t/**\n\t\t * @type {string}\n\t\t */\n\t\tserviceLoader : '',\n\n\t\t/**\n\t\t * @type {string[]}\n\t\t */\n\t\trenderModes : ['default'],\n\n\t\t/**\n\t\t * @type {Object}\n\t\t */\n\t\tfeatures : {\n\t\t\tchromeLevel : (location.protocol == 'chrome:' || location.protocol == 'resource:'),\n//\t\t\tstorrage : !Engine.features.chromeLevel && (function(){try{ return sessionStorage && localStorage; }catch(e){ return false; }})(),\n//\t\t\tindexedDB : !Engine.features.chromeLevel && (function(){try{ return indexedDB; }catch(e){ return false; }})(),\n        \tnotifications : (Notification) ||false,\n        \trenderFrame : (requestAnimationFrame) ||false,\n        \taudio : (Audio) ||false,\n        \tindexOf : (Array.indexOf) ||false,\n        \tforEach : (Array.forEach) || false,\n        \tgeolocation : (navigator.geolocation) ||false,\n        \tappCache : (applicationCache) || false,\n        \txcom : ($$.postMessage) ||false,\n        \tblobs : (Blob) ||false,\n        \tclipBoard : ($$.ClipboardEvent) ||false,\n        \tfile : ($$.File) ||false,\n        \tfileReader : (FileReader) ||false,\n        \thashchange : (typeof onhashchange != \"undefined\") ||false,\n        \tjson : (JSON) ||false,\n        \tmatchMedia : (matchMedia) ||false,\n        \ttiming : ($$.PerformanceTiming) ||false,\n        \tpageVisibility : ((typeof document.hidden != \"undefined\") && document.visibilityState),\n        \tserverSentEvent : ($$.EventSource) ||false,\n        \twebWorker : (Worker) ||false,\n\t\t\tsharedWebWorker : (SharedWorker) ||false,\n        \tarrayBuffer : (ArrayBuffer)||false,\n        \twebSocket : (WebSocket) ||false,\n        \tcomputedStyle : (getComputedStyle) ||false,\n        \tdeviceOrientation : ($$.DeviceOrientationEvent) || false,\n\t\t},\n\n\t\t/**\n\t\t * @type {Object}\n\t\t * @property {string} EXTENSION\n\t\t */\n        moduleTypes : {\n            EXTENSION : 'extension'\n        }\n\t},\n\n\t/**\n\t * @namespace\n\t */\n\titemLibrary : {\n\n\t\t/**\n\t\t * @type {module:Engine~LibraryItem}\n\t\t */\n\t\taddon : (function(){\n\t\t\tvar self= {};\n\n\t\t\tself.talk= function(type, message){\n\t\t\t\tif($$ != self){\n\t\t\t\t\treturn new Promise(function(okay){\n\t\t\t\t\t\tvar id= createUniqueId();\n\t\t\t\t\t\tvar ready= function(e){\n\t\t\t\t\t\t\tself.port.removeListener(ready);\n\t\t\t\t\t\t\tokay(e);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconsole.log(id);\n\t\t\t\t\t\tself.port.on(id, ready, false);\n\t\t\t\t\t\tself.port.emit(type, { id : id, message : message });\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error('Not available in this context!!');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.listen= function(type, callback){\n\t\t\t\tif($$ != self){\n\t\t\t\t\tself.port.on(type, function(e){\n\t\t\t\t\t\tvar id= e.id;\n\t\t\t\t\t\t\tcallback(e.message, function(message){\n\t\t\t\t\t\t\t\tself.port.emit(id, message);\n\t\t\t\t\t\t\t});\n                \t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error('Not available in this context!!');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif($$ != self)\n\t\t\t\treturn self;\n\t\t\telse\n\t\t\t\treturn null;\n\t\t})(),\n\n\t\t/**\n\t\t * @type module:Engine~LibraryItem\n\t\t */\n\t\tapplications : {\n\t\t\t'new' : function(name){\n                var scope = Make(ApplicationScope)(name);\n\n\t\t\t\tEngine.pushScope(scope);\n\n\t\t\t\treturn scope.public;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @type module:Engine~LibraryItem\n\t\t */\n\t\tservices : {\n\t\t\t'new' : function(name){\n\t\t\t\tEngine.pushScope(Make(ServiceScope)(name));\n\t\t\t},\n\t\t\tsetLoaderModule : function(url){\n\t\t\t\tEngine.shared.serviceLoader= url;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @type {module:Engine~LibraryItem}\n\t\t */\n\t\twrap : function(source){\n\t\t\treturn new Promise(function(done){\n\t\t\t\tdone(source.apply({}));\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * @type {module:Engine~LibraryItem}\n\t\t */\n\t\tsystem : {\n\t\t\tsettings : function(settings){\n\t\t\t\tobjectExtend.apply(Engine.options, [settings]);\n\t\t\t},\n\t\t\tinfo : function(){\n\t\t\t\treturn cloneObject(Engine.info);\n\t\t\t},\n\t\t\tshared : function(){\n\t\t\t\treturn Engine.shared;\n\t\t\t},\n\t\t\t'import' : function(...modules){\n                var { moduleTypes } = Engine.shared;\n\n                Engine.ready= new Promise(function(ready){\n\t\t\t\t\tPromise.all(modules.map(m => System.import(m))).then(modules => modules.forEach(m => {\n\t\t\t\t\t\tif('config' in m){\n\t\t\t\t\t\t\tif(m.config.main){\n                                if(m.config.type && m.config.type == moduleTypes.EXTENSION){\n                                    m[m.config.main](Extendables, Scopes);\n\n                                }else if(!(m.config.main in Engine.itemLibrary)){\n\t\t\t\t\t\t\t\t\tEngine.itemLibrary[m.config.main]= m[m.config.main];\n\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tconsole.warn('an other version of \"'+ m.config.main +'\" is already loaded!');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.error('couldn\\'t find main in module config!');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * @type {Object}\n\t * @property {string} applicationName\n\t * @property {string} renderMode\n\t * @property {string} override\n\t */\n\toptions : {\n\t\tapplicationName : '',\n\t\trenderMode : 'default',\n\t\toverride : 'false'\n\t},\n\n\t/**\n\t * @type {Object}\n\t * @property {string} engine\n\t * @property {string} engineVersion\n\t * @property {string} platform\n\t */\n\tinfo : {\n\t\tengine : 'unknown',\n    \tengineVersion : '1',\n    \tplatform : 'unknown',\n    \tarch : 'x32',\n    \ttype : 'unknown'\n\t},\n\n\t/**\n\t * @type {Object}\n\t */\n\tscopeList : {},\n\n\t/**\n\t * @param {string} name\n\t *\n\t *//**\n\t * @param {object} name\n\t */\n\tgetLibraryItem : function(name){\n\t\tif(typeof name == 'string'){\n\t\t\treturn Engine.itemLibrary[name];\n\t\t}else{\n\t\t\treturn Engine.itemLibrary[name.name];\n\t\t}\n\t},\n\n\t/**\n\t * @param {Scope} scope\n\t */\n\tpushScope : function(scope){\n\t\tif(!this.scopeList[scope.name] && scope.name != \"application\")\n\t\t\tthis.scopeList[scope.name]= scope;\n\t\telse\n\t\t\tconsole.error('a scope with this name does already exist!');\n\t},\n\n\t/**\n\t * @param {string} name\n     * @return {ApplicaionScopeInterface}\n\t */\n\tgetScope : function(name){\n\t\tif(name == 'application')\n\t\t\tname= Engine.settings.applicationName;\n\n\t\tif(Engine.scopeList[name])\n\t\t\treturn Engine.scopeList[name].public;\n\t\telse\n\t\t\tconsole.error('scope does not exist!');\n\t},\n\n\t/**\n\t * @type {external:System.Promise}\n\t */\n\tready : Promise.resolve()\n};\n\n/**\n * @member Engine\n * @type {module:Engine~Engine}\n * @memberof module:Engine\n */\nexport default Engine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/objects/Engine.js\n **/","/**\n * The make module consits of Make, getPrototypeOf and mixin.\n * See the documentation for each method to see what is does.\n * This module is part of the ApplicationFrame.\n * @module Make\n * @author Jovan Gerodetti\n * @copyright Jovan Gerodetti\n * @version 1.0\n */\n\n\n/**\n * Internal function to apply one objects propteries to a target object.\n *\n * @param {Object} target\n * @param {Object} source\n * @inner\n */\nvar apply = function (target, source) {\n    Object.keys(source).forEach(function(key){\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n\n    return target;\n};\n\n/**\n * Creates a new object with the given prototype.\n * If two arguments are passed in, the properties of the first object will be\n * applied to the new object.\n *\n * @param {Object} object\n * @param {Object} prototype\n * @return {function}\n */\nexport var Make = function(object, prototype) {\n    if(arguments.length < 2){\n        prototype = object;\n        object = null;\n    }\n\n    if (object === null) {\n        object = Object.create(prototype);\n    } else {\n        object = apply(Object.create(prototype), object);\n    }\n\n    var m = function(...args){\n        var make = object.make || object._make ||function(){};\n\n        make.apply(object, args);\n\n        return object;\n    };\n\n    m.get = function(){ return object; };\n\n    return m;\n};\n\n/**\n * This method checks if the given prototype is in the prototype chain of\n * the given target object.\n *\n * @param {Object} object\n * @param {Object} prototype\n * @return {boolean}\n */\nexport var hasPrototype = function(object, prototype){\n    var p = Object.getPrototypeOf(object);\n\n    while(p !== null && p !== undefined){\n        if(typeof prototype == 'function')\n            prototype = prototype.prototype;\n\n        if(p == prototype)\n            return true;\n        else\n            p = Object.getPrototypeOf(p);\n    }\n\n    return false;\n};\n\n/**\n * Creates a new prototype mixing all the given prototypes. Incase two or more\n * prototypes contain the same propterty, the new prototype will return\n * the propterty of the first prototype in the list which contains it.\n *\n * @param {...Object} prototypes\n * @return {Proxy}\n */\nexport var Mixin = function(...prototypes){\n\n    return new Proxy(prototypes, MixinTrap);\n\n};\n\n/**\n * Internal function to find a proptery in a list of prototypes.\n *\n * @param {Object[]} prototypes\n * @param {string} key\n * @return {Object}\n */\nvar findProperty = function(prototypes, key) {\n    for (var i = 0; i < prototypes.length; i++) {\n        var item = prototypes[i];\n\n        if (item && item[key]) {\n            return item;\n        }\n    }\n\n    return undefined;\n};\n\n/**\n * Traps to create a mixin.\n */\nvar MixinTrap = {\n\n    'get' : function(prototypes, key) {\n        var object = findProperty(prototypes, key);\n\n        if (object && typeof object[key] === 'function') {\n            return object[key].bind(object);\n        }\n\n        return (object ? object[key] : null);\n    },\n\n    'set' : function(prototypes, key, value) {\n        var object = findProperty(prototypes, key);\n\n        if (object) {\n            object[key] = value;\n        } else {\n            prototypes[0][key] = value;\n        }\n\n        return true;\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/util/make.js\n **/","import { Make } from '../../util/make.js';\nimport Catalog from './Catalog.js';\nimport Extendables from '../objects/Extendables.js';\n\n\n/**\n * @lends ApplicationScope.prototype\n */\nlet ApplicationScope = {\n    /**\n     * @type {string}\n     */\n    name : null,\n\n    /**\n     * @type {string}\n     */\n    type : 'application',\n\n    /**\n     * @type {ApplicationScopeInterface}\n     */\n    public : null,\n\n    /**\n     * @type {ApplicationScopePrivatePrototype}\n     */\n    private : null,\n\n    /**\n     * @type {Thread}\n     */\n    thread : null,\n\n    /**\n     * @type {Worker[]}\n     */\n    workers : null,\n\n    /**\n     * @type {Object}\n     */\n    listeners : null,\n\n    /**\n     * @type {Catalog}\n     */\n    modules : null,\n\n    /**\n     * this prototype defines a new application scope\n     *\n     * @constructs\n     * @param {string} name\n     * @implements {Scope}\n     */\n    _make : function(name){\n        this.name= name;\n        this.public= Make(Extendables.ApplicationScopeInterface)(this);\n\n        this.workers= [];\n        this.listeners= {};\n        this.modules = Make(Catalog)();\n\n        this._make = null;\n    }\n};\n\nexport default ApplicationScope;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ApplicationScope.js\n **/","let Catalog = {\n\n    _listeners : null,\n\n    _make : function(){\n        this._listeners = [];\n\n        this._make = null;\n    },\n\n    on : function(event, listener){\n        var self= this;\n\n        return new Promise(function(success){\n            if(listener.length > 0)\n                self._listeners.push({ event : event, listener : listener, success : success });\n            else\n                success();\n        });\n    },\n\n    add : function(key, value){\n        this[key]= value;\n        var object= this;\n        this._listeners.forEach(function(item){\n\n            if(item.event == 'available'){\n                var ready= 0;\n                item.listener.forEach(function(item){\n                    if(Object.keys(object).indexOf(item) > -1)\n                        ready++;\n                });\n\n                if(ready == item.listener.length){\n                    item.success();\n                }\n            }\n        });\n    }\n};\n\nexport default Catalog;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/Catalog.js\n **/","/**\n * @module Extendables\n */\n\nimport ApplicationScopeInterface from '../prototypes/ApplicationScopeInterface.js';\nimport ServiceScopeInterface from '../prototypes/ServiceScopeInterface.js';\nimport MozillaAddonScopeInterface from '../prototypes/MozillaAddonScopeInterface.js';\n\n\nexport default {\n    /**\n     * @type {ApplicationScopeInterface}\n     */\n    ApplicationScopeInterface : ApplicationScopeInterface,\n\n    /**\n     * @type {MozillaAddonScopeInterface}\n     */\n    MozillaAddonScopeInterface : MozillaAddonScopeInterface,\n\n    /**\n     * @type {ServiceScopeInterface}\n     */\n    ServiceScopeInterface : ServiceScopeInterface\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/objects/Extendables.js\n **/","import { Make } from '../../util/make.js';\nimport Scopes from '../objects/Scopes.js';\nimport ApplicationScopePrivatePrototype from './ApplicationScopePrivatePrototype.js';\nimport Interface from './Interface.js';\nimport Extendables from '../objects/Extendables.js';\nimport Engine from '../objects/Engine.js';\n\n/**\n * this prototype defines a new application scope interface\n *\n * @class ApplicationScopeInterface\n * @extends {Interface}\n */\n\n\nlet ApplicationScopeInterface = Make(\n    /** @lends ApplicationScopeInterface.prototype */\n    {\n\n    /**\n     * @param {string} type\n     * @param {function} listener\n     */\n    on : function(type, listener){\n        var scope = Scopes.get(this);\n\n        if (!scope.listeners[type]) {\n            scope.listeners[type] = [];\n        }\n\n        scope.listeners[type].push(listener);\n\n        return this;\n    },\n\n    /**\n     * Emmits a new event on this application.\n     *\n     * @param {string} type\n     * @param {Object} data\n     */\n    emit : function(type, data){\n        let scope = Scopes.get(this);\n\n        if (scope.listeners[type]) {\n            scope.listeners[type].forEach(f => {\n                setTimeout(function(){\n                    f(data);\n                }, 0);\n            });\n        }\n    },\n\n    /**\n     * @param {function} f\n     * @return {ApplicationScopeInterface}\n     */\n    thread : function(f){\n        var scope= Scopes.get(this);\n\n        scope.workers.push(Make(Extendables.ScopeWorker)(f));\n\n        return this;\n    },\n\n    /**\n     * Creates the prototype for the application. The properties then\n     * can be accessed inside the applications main routine and it's modules.\n     *\n     * @param {Object} object\n     * @return {ApplicationScopeInterface}\n     */\n    prototype : function(object){\n        Scopes.get(this).private = Make(object, ApplicationScopePrivatePrototype)(Scopes.get(this));\n\n        return this;\n    },\n\n    /**\n     * Sets the main routine for the application. It will be invoced after all modules are loaded.\n     *\n     * @param {function} f\n     * @return {ApplicationScopeInterface}\n     */\n    main : function(f){\n        var scope= Scopes.get(this);\n\n        if(scope.private === null)\n            scope.private = Make(ApplicationScopePrivatePrototype)(scope);\n\n        scope.thread= f.bind(scope.private);\n\n        Engine.ready.then(scope.thread);\n\n        return this;\n    },\n\n    /**\n     * Defines a module for the application.\n     *\n     * @param {string} name - The name of the new module. Other modules and the main routine can reference to the module with this name.\n     * @param {string[]} dependencies - The names of all the modules on which this module depends.\n     * @param {function} f - the main routine of this module.\n     * @return {ApplicationScopeInterface}\n     */\n    module : function(name, dependencies, f){\n        var scope = Scopes.get(this);\n\n        scope.modules.on('available', dependencies).then(function(){\n            scope.modules.add(new Promise(function(ready){\n                f(scope, ready);\n            }));\n        });\n\n        return this;\n    },\n\n    /**\n     * This function will try to terminate the application by emitting the termination event.\n     *\n     * @param {string} reason - the reason for the termination.\n     */\n    terminate : function(reason){\n        this.emmit('terminate', reason);\n    }\n\n}, Interface).get();\n\nexport default ApplicationScopeInterface;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ApplicationScopeInterface.js\n **/","export default new WeakMap();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/objects/Scopes.js\n **/","import Interface from './Interface.js';\nimport { Make } from '../../util/make.js';\nimport Scopes from '../objects/Scopes.js';\n\nlet ApplicationScopePrivatePrototype = Make(/** @lends ApplicationScopePrivatePrototype.prototype */{\n    /**\n     * Reference to the public interface of this application.\n     *\n     * @type {ApplicationScopeInterface}\n     */\n    public : null,\n\n    /**\n     * A dictionary of all the available modules in the application.\n     *\n     * @type {Object}\n     */\n    modules : null,\n\n    /**\n     * The private prototype for the application. Only the application and\n     * it's modules have access to the properties of this prototype.\n     *\n     * @constructs\n     * @param {ApplicationScope} scope - The [{ApplicationScope}]{@link ApplicationScope} this object belongs to.\n     * @extends {Interface}\n     */\n    _make : function(scope){\n        Interface._make(scope);\n\n        this.public = scope.public;\n        this.modules = {};\n\n        this._make = null;\n    },\n\n    /**\n     * @param {function} f\n     */\n    onprogress : function(f){\n        Scopes.get(this).listeners.push({ type : 'progress', listener : f });\n    },\n\n}, Interface).get();\n\nexport default ApplicationScopePrivatePrototype;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ApplicationScopePrivatePrototype.js\n **/","import Scopes from '../objects/Scopes.js';\n\nlet Interface = {\n\n    _make : function(scope){\n        Scopes.set(this, scope);\n\n        this._make = null;\n    }\n\n};\n\nexport default Interface;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/Interface.js\n **/","import { Make } from '../../util/make.js';\nimport { createUniqueId } from '../../util/functions.js';\nimport Scopes from '../objects/Scopes.js';\nimport Interface from './Interface.js';\nimport Engine from '../objects/Engine.js';\n\n\n// this prototype defines a new service scope loader\nexport default Make({\n\n\ttalk : function(name, data){\n\t\tvar scope= Scopes.get(this);\n\n\t\tif(name != 'init' && !scope.isReady){\n\t\t\treturn new Promise(function(success){\n\t\t\t\tscope.messageQueue.push({ name : name, data : data, resolve : success });\n\t\t\t});\n\n\t\t}else{\n\t\t\treturn new Promise(function(success){\n\t\t\t\tvar id= createUniqueId();\n\t\t\t\tvar listener= function(e){\n\t\t\t\t\tif(e.data.id == id){\n\t\t\t\t\t\tscope.thread.removeEventListener('message', listener);\n\t\t\t\t\t\tsuccess(e.data.data);\n\t\t\t\t\t}\n\t\t\t\t};\n\n                scope.thread.addEventListener('message', listener, false);\n\t\t\t\tscope.thread.postMessage({ name : name, id : id, data : data });\n\t\t\t});\n\t\t}\n\t},\n\n\tlisten : function(name, callback){\n\t\tvar scope= Scopes.get(this);\n\n        scope.addEventListener('message', function(e){\n        \tif(e.data.name == name){\n            \tvar id= e.data.id;\n                var setAnswer= function(data){\n                \tscope.postMessage({ id : id, data : data });\n\t\t\t\t};\n\t\t\t\tcallback(e.data.data, setAnswer);\n\t\t\t}\n\t\t}, false);\n\n        return this;\n\t},\n\n\tmain : function(source){\n\t\tvar scope= Scopes.get(this);\n\n\t\tscope.thread= new ServiceWorker(Engine.shared.serviceLoader+'?'+scope.name);\n\n        if(typeof source == \"function\"){\n\t\t\tsource= '$$.main= ' + source.toString();\n            source= new Blob([source], { type : 'text/javascript' });\n\t\t\tsource= URL.createObjectURL(source);\n\t\t}\n\n        scope.thread.talk('init', source).then(function(){\n\t\t\tscope.isReady= true;\n\t\t\tscope.messageQueue.forEach(function(item){\n\t\t\t\tscope.thread.talk(item.name, item.data).then(function(data){\n\t\t\t\t\titem.resolve(data);\n\t\t\t\t});\n\t\t\t});\n\n            scope.messageQueue = null;\n//\t\t\tsource= $$.URL.revokeObjectURL(source);\n\t\t});\n\n        return this;\n\t}\n}, Interface).get();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ServiceScopeInterface.js\n **/","/* global require */\n\nimport { Make } from '../../util/make.js';\nimport { createUniqueId } from '../../util/functions.js';\nimport Scopes from '../objects/Scopes.js';\nimport ApplicationScopeInterface from './ApplicationScopeInterface.js';\nimport Interface from './Interface.js';\n\n// this\tprototype defines a new mozilla addon scope interface\nexport default Make({\n\n\tcreate : ApplicationScopeInterface.main,\n\n\t'module' : ApplicationScopeInterface.module,\n\n\tmodules : function(depsObject){\n\t\tvar scope= Scopes.get(this);\n\n        Object.keys(depsObject).forEach(key => {\n\t\t\tif(!scope.modules[key])\n\t\t\t\tscope.modules[key]= depsObject[key];\n\t\t});\n\n        return this;\n\t},\n\n\thook : function(globalObject){\n\t\tvar scope= Scopes.get(this);\n\n        scope.global= globalObject;\n\n        return this;\n\t},\n\n    dataURL : function(){\n//\t\tvar prefixURI= require('@loader/options').prefixURI;\n\n//        return (prefixURI + 'af/lib/') + (path || '');\n    },\n\n    talkTo : function(worker){\n\t\treturn {\n\t\t\ttalk : function(type, message){\n\t\t\t\treturn new Promise(function(okay){\n\t\t\t\t\tvar id= createUniqueId();\n\t\t\t\t\tworker.port.on(id, function ready(e){\n\t\t\t\t\t\tworker.port.removeListener(ready);\n\t\t\t\t\t\tokay(e);\n\t\t\t\t\t});\n\t\t\t\t\tworker.port.emit(type, { id : id, message : message });\n\t\t\t\t});\n\t\t\t},\n\t\t\tlisten : function(type, callback){\n\t\t\t\tworker.port.on(type, function(e){\n\t\t\t\t\tvar id= e.id;\n\t\t\t\t\tcallback(e.message, function(message){\n\t\t\t\t\t\tworker.port.emit(id, message);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n        return this;\n\t}\n}, Interface).get();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/MozillaAddonScopeInterface.js\n **/","import { Make } from '../../util/make.js';\nimport Extendables from '../objects/Extendables.js';\n\n// this prototype defines a new service scope\nexport default {\n\tthread : null,\n\tisReady : false,\n\tmessageQueue : null,\n\tpublic : null,\n\n    _make : function(){\n        this.public = Make(Extendables.ServiceScopeInterface)(this);\n        this.messageQueue = [];\n\n        this._make = null;\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ServiceScope.js\n **/","import { Make } from '../../util/make.js';\nimport Thread from './Thread.js';\nimport ApplicationInternal from './ApplicationInternal.js';\n\nlet Internal = new WeakMap();\n\nlet Application = {\n\n    /**\n     * Name of this application so other components can identify the application.\n     *\n     * @type {string}\n     */\n    name : '',\n\n    /**\n     * Some components may need to know the version of this applicaion.\n     *\n     * @type {string}\n     */\n    version : '0.0.0',\n\n    /**\n     * @type {string}\n     */\n    author : '',\n\n    /**\n     * @constructs\n     */\n    _make : function(){\n        Internal.set(this, Make(ApplicationInternal)());\n    },\n\n    /**\n     * Initializes this application, default interface for components and modules.\n     */\n    init : function(){\n        console.log(`Initialzing Application \"${this.name}\"!`);\n    },\n\n\n    /**\n     * Registers a new event listener for the given event type.\n     *\n     * @param {string} type\n     * @param {function} listener\n     */\n    on : function(type, listener){\n        var scope = Internal.get(this);\n\n        if (!scope.listeners[type]) {\n            scope.listeners[type] = [];\n        }\n\n        scope.listeners[type].push(listener);\n\n        return this;\n    },\n\n    /**\n     * Emmits a new event on this application.\n     *\n     * @param {string} type\n     * @param {Object} data\n     */\n    emit : function(type, data){\n        let scope = Internal.get(this);\n\n        if (scope.listeners[type]) {\n            scope.listeners[type].forEach(f => {\n                setTimeout(function(){\n                    f(data);\n                }, 0);\n            });\n        }\n    },\n\n    /**\n     * Creates a new thread for this applicaion.\n     *\n     * @param {function} f\n     * @return {ApplicationScopeInterface}\n     */\n    thread : function(f){\n        var scope= Internal.get(this);\n\n        scope.workers.push(Make(Thread)(f));\n\n        return this;\n    },\n\n    /**\n     * This function will try to terminate the application by emitting the termination event.\n     *\n     * @param {string} reason - the reason for the termination.\n     */\n    terminate : function(reason){\n        this.emit('terminate', reason);\n    }\n\n};\n\nexport default Application;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/Application.js\n **/","import Shared from '../objects/Shared.js';\n\n/**\n * this prototype defines a new scope worker\n */\nlet Thread = {\n\n    /**\n     * The parent application of this thread.\n     *\n     * @type {Application}\n     */\n    parent : null,\n\n    /**\n     * The Worker Object for this thread.\n     *\n     * @type {Worker}\n     * @private\n     */\n    _thread : null,\n\n    _promise : null,\n\n    then : null,\n\n    catch : null,\n\n    /**\n     * @constructs\n     * @param {function} f\n     * @param {Application} parent\n     */\n    _make : function(f, parent){\n        this.parent= parent;\n        this.thread= new Worker(Shared.threadLoader);\n        this.thread.postMessage({ name : 'init', func : f });\n        this.progressListeners= [];\n\n        this._promise = new Promise((done) => {\n            this._thread.addEventListener('message', function(e){\n                if(e.data.name == 'af-worker-done')\n                    done(e.data.data);\n            }, false);\n        });\n\n        this._thread.addEventListener('message', e => {\n            if(e.data.name == 'af-worker-progress') {\n                this.emit('progress', e.data.data);\n            }\n        }, false);\n\n        this.then = this._promise.then.bind(this._promise);\n        this.catch = this._promise.catch.bind(this._promise);\n    }\n};\n\nexport default Thread;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/Thread.js\n **/","export default {};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/objects/Shared.js\n **/","let ApplicationInternal = {\n    /**\n     * @type {Thread}\n     */\n    thread : null,\n\n    /**\n     * @type {Worker[]}\n     */\n    workers : null,\n\n    /**\n     * @type {Array}\n     */\n    listeners : null,\n\n    /**\n     * @type {Catalog}\n     */\n    modules : null,\n\n    /**\n     * this prototype defines a new application scope\n     *\n     * @constructs\n     * @param {string} name\n     * @implements {Scope}\n     */\n    _make : function(){\n        this.workers= [];\n        this.listeners= [];\n\n        this._make = null;\n    }\n};\n\nexport default ApplicationInternal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/ApplicationInternal.js\n **/","//import CryptoJS from '../libs/CryptoJS-SHA-3.js';\nimport { makeTemplate } from './DataBinding/Template.js';\nimport { bindNode } from './DataBinding/Bind.js';\nimport ViewPort from './DataBinding/ViewPort.js';\n\n/**\n * @module DataBinding\n * @version 1.0\n * @author Jovan Gerodetti\n */\n\nNodeList.prototype.forEach = NamedNodeMap.prototype.forEach = Array.prototype.forEach;\n\n\n/**\n * calculates the hash of an Object.\n *\n * @memberof Object.prototype\n */\n/**Object.prototype.toString = function(){\n\n    let data = Object.keys(this).map(function(key){\n    \treturn key + '=' + this[key];\n    }.bind(this)).join('&');\n\n    let hash = CryptoJS.SHA3(data, { outputLength: 224 });\n\n    return hash.toString(CryptoJS.enc.Base64);\n};**/\n\nlet style = document.createElement('style');\n\nstyle.innerHTML = `\n    [bind-display=\"false\"] {\n        display: none !important;\n    }\n\n    [bind-visible=\"false\"] {\n        visibility: hidden;\n    }\n`;\n\ndocument.head.appendChild(style);\n\nexport let DataBinding = {\n    makeTemplate : makeTemplate,\n    bindNode : bindNode,\n    ViewPort : ViewPort,\n};\n\nexport let config = {\n    main : 'DataBinding',\n    author : 'Jovan Gerodetti'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding.js\n **/","import { Make } from '../../util/make.js';\nimport { bindNode } from './Bind.js';\nimport { selectElement, selectAllElements, polyMask } from './Util.js';\nimport { importTemplate } from './TemplateLoader.js';\nimport ScopePrototype from './ScopePrototype.js';\n\nlet makeElementFromTemplate = function(template, scope, application, item) {\n    let node = document.importNode(template.content, true);\n    let placeholder = selectElement('bind-placeholder', node);\n\n    item = polyMask(item);\n\n    item.attributes.forEach(attr => {\n        node.firstElementChild.setAttribute(attr.name, attr.value);\n    });\n\n    if (placeholder.bare) {\n        let node = item.firstElementChild;\n        placeholder.parentNode.replaceChild(item.firstElementChild, placeholder.bare);\n\n        [].forEach.apply(item.children, [item => {\n            node.parentNode.appendChild(item);\n        }]);\n    }\n\n    node.firstElementChild.className = template.id + ' ' + node.firstElementChild.className;\n\n    scope = scope();\n\n    [].map.apply(node.firstElementChild.attributes, [item => {\n        if (item.name.search(/^scope\\-/) > -1 ) {\n            scope[item.name.replace(/^scope\\-/, '')] = item.value;\n        }\n    }]);\n\n    if (template.hasAttribute('component')) {\n        scope.element = node.firstElementChild;\n    }\n\n    scope = bindNode(node, scope);\n\n    item.parentNode.replaceChild(node, item.bare);\n\n    if (application) {\n        application.emit(`newElement:${template.id}`, scope);\n    }\n};\n\n/**\n * creates a new instance of an HTML template and applies the binding with\n * the given scope.\n *\n * @param {Node|string} template\n * @param {ScopePrototype} scope\n * @param {ApplicationScopeInterface} application\n * @return {Object}\n */\nexport let makeTemplate = function (template, scope, application) {\n    template = (typeof template === 'string') ? selectElement(template) : polyMask(template);\n\n    if (template.hasAttribute('src') && !template.processed) {\n        let source = template.getAttribute('src');\n\n        scope = Make(scope, ScopePrototype)();\n\n        importTemplate(source, template)\n            .then(template => {\n                template.processed = true;\n                makeTemplate(template, scope, application)\n            });\n\n        return scope;\n\n    }else if (template.hasAttribute('bind-element')) {\n        let makeElement = makeElementFromTemplate.bind(this, template, scope, application);\n        let list = selectAllElements(template.id);\n\n        [].forEach.apply(list, [makeElement]);\n\n        (new MutationObserver(mutations => {\n            mutations.forEach(item => {\n                if (item.addedNodes.length > 0) {\n                    let list = selectAllElements(template.id);\n\n                    [].forEach.apply(list, [makeElement]);\n                }\n            });\n        })).observe(document.body, {\n            childList : true,\n            subtree : true\n        });\n\n    } else {\n        let node = document.importNode(template.content, true);\n\n        scope = bindNode(node, scope);\n\n        if (template.hasAttribute('replace')) {\n            console.log('replace template');\n            template.parentNode.replaceChild(node, template.bare);\n        } else if (template.hasAttribute('insert')) {\n            template.parentNode.insertBefore(node, template.bare);\n        }\n\n        return {node : node, scope : scope };\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Template.js\n **/","import { Make, hasPrototype } from '../../util/make.js';\nimport { ObjectParser, parseExpression, assignExpression } from './Parser.js';\nimport { attributeNames } from './Mapping.js';\nimport { selectElement, polyMask } from './Util.js';\n\nimport Binding from './Binding.js';\nimport ClassBinding from './ClassBinding.js';\nimport TwoWayBinding from './TwoWayBinding.js';\nimport ScopePrototype from './ScopePrototype.js';\nimport EnabledBinding from './EnabledBinding.js';\nimport TemplateRepeatBinding from './TemplateRepeatBinding.js';\nimport AutoBinding from './AutoBinding.js';\n\n/**\n * Contains all scope, scopeInfo pairs.\n *\n * @type {WeakMap}\n */\nlet scopeList = new WeakMap();\n\n/**\n * @type {ScopePrototype[]}\n */\nlet scopeIndex = [];\n\n/**\n * @type {Array[]}\n */\nexport let watcherList = new WeakMap();\n\n/**\n * @type {Object}\n */\nlet expressionTracking = {};\n\n/**\n * applies the binding to the node for the given scope.\n *\n * @param {Node|string} node - the node which should be bound\n * @param {Object} scope - the scope which should be bound to\n * @param {boolean} isolated - indicates if this scope should be recycled isolated\n * @return {ScopePrototype}\n */\nexport let bindNode = function(node, scope, isolated) {\n\tscope = hasPrototype(scope, ScopePrototype) ? scope : Make(scope, ScopePrototype)();\n    node = hasPrototype(node, Node) ? node : selectElement(node);\n\n\tscopeList.set(scope, {\n\t\tnode : node,\n\t\tbindings : []\n\t});\n\n    scopeIndex.push(scope);\n\n\tcheckNode(node, scope);\n    recycle(isolated ? scope : false);\n\n\treturn scope;\n};\n\n/**\n * Travels through a node and it's children searching for binding expressions\n *\n * @param {Node} node\n * @param {ScopePrototype} scope\n * @param {Node} parentNode\n */\nlet checkNode = function(node, scope, parentNode) {\n    let dataRegex = /{{[^{}]*}}/g;\n    let scopeInfo = scopeList.get(scope);\n\n\tif (node.nodeName == '#text' || node.nodeType === 2) {\n    \tlet text = node.value ||node.textContent,\n            variables = text.match(dataRegex),\n            visibilityBinding = (node.name === attributeNames.get('visible')),\n            transparencyBinding = (node.name === attributeNames.get('transparent')),\n            enabledAttribute = node.name === attributeNames.get('enabled'),\n            classes = (node.name === attributeNames.get('classes')),\n            modelBinding = node.name === attributeNames.get('model'),\n            autoBinding = node.name === 'bind',\n            twoWay = (node.name === attributeNames.get('value') || modelBinding);\n\n        let singleBinding = visibilityBinding || transparencyBinding;\n\n        if (twoWay) {\n            bindTwoWay(text, scope, scopeInfo, node, parentNode, modelBinding);\n        } else if (classes) {\n            bindClasses(text, node, scopeInfo, parentNode);\n        } else if (enabledAttribute) {\n            bindEnabled(text, scopeInfo, parentNode);\n        } else if (variables || singleBinding) {\n            bindSimple(text, node, variables, scopeInfo, singleBinding, parentNode);\n        } else if (autoBinding) {\n            bindAuto(text, scopeInfo, parentNode);\n        }\n    } else if(node.localName === 'template'){\n        let repeatedTemplate = (node.hasAttribute('replace') && node.hasAttribute('repeat'));\n\n        node.attributes.forEach(child => checkNode(child, scope, node));\n\n        if (repeatedTemplate) {\n            bindTemplateRepeat(node, scopeInfo);\n        }\n    } else {\n        if (node.attributes) {\n            node.attributes.forEach((child) => checkNode(child, scope, node));\n\n            let events = node.getAttribute(attributeNames.get('events'));\n\n        \tif (events !== null) {\n        \t\tbindEvents(events, node, scope);\n\n\t\t\t\tnode.removeAttribute(attributeNames.get('events'));\n       \t\t}\n        }\n\n        node.childNodes.forEach((node) => { return checkNode(node, scope); });\n    }\n};\n\n/**\n * creates a two way binding\n *\n * @param {string} text\n * @param {ScopePrototype} scope\n * @param {Object} scopeInfo\n * @param {Node} node,\n * @param {Node} parentNode\n * @param {boolean} indirect\n */\nlet bindTwoWay = function(text, scope, scopeInfo, node, parentNode, indirect){\n    let property = text.replace(/[{}]/g, '');\n    let value = parseExpression(property, scope);\n    let [event, viewBinding, eventBinding, preventDefault] = (parentNode.getAttribute(attributeNames.get('modelEvent')) ||'').split(':');\n\n    /** @type {TwoWayBinding} */\n    let binding = Make({\n        properties : [property],\n        originalNodeValue : text,\n        currentValue : value,\n        node : node,\n        parentNode : parentNode,\n        indirect : indirect,\n        viewBinding : viewBinding,\n    }, TwoWayBinding).get();\n\n    scopeInfo.bindings.push(binding);\n\n    if (node.name === attributeNames.get('model')) {\n        parentNode.addEventListener(event, e => {\n            if (preventDefault === 'true') {\n                e.preventDefault();\n            }\n\n            console.log(e);\n            let value = parseExpression(eventBinding, e);\n            compareTwoWay(value, scope, binding);\n        });\n    } else if(node.name === attributeNames.get('value')) {\n        parentNode.addEventListener('keyup', e => {\n            e.preventDefault();\n            compareTwoWay(getElementValue(e.target), scope, binding);\n        });\n    }\n};\n\n/**\n * Compares for changes in the UI in a two way binding\n *\n * @param {string} newValue\n * @param {ScopePrototype} scope\n * @param {TwoWayBinding} binding\n */\nlet compareTwoWay = function(newValue, scope, binding){\n    if (binding.currentValue !== newValue) {\n        assignExpression(binding.properties[0], scope, newValue);\n        binding.currentValue = newValue;\n\n        console.log('update from view:', scope);\n\n        recycle();\n    }\n}\n\n/**\n * creates a simple binding\n *\n * @type {string} text\n * @type {Node} node\n * @type {string[]} variables\n * @type {ScopePrototype} scope\n * @type {ScopeInfo} scopeInfo\n */\nlet bindSimple = function(text, node, variables, scopeInfo, singleExpression, parentNode){\n    /** @type {Binding} */\n    let binding = Make({\n        originalNodeValue : text,\n        node : node,\n        parentNode : parentNode,\n        singleExpression : singleExpression,\n        properties : variables ? variables.map(item => item.replace(/[{}]/g, '')) : []\n    }, Binding).get();\n\n    scopeInfo.bindings.push(binding);\n}\n\nlet bindClasses = function(text, node, scopeInfo, parentNode) {\n    let binding = Make({\n        originalNodeValue : text,\n        node : node,\n        classes : ObjectParser(text),\n        parentNode : parentNode\n    }, ClassBinding).get();\n\n    scopeInfo.bindings.push(binding);\n};\n\nlet bindEnabled = function(text, scopeInfo, parentNode) {\n    let binding = Make({\n        originalNodeValue : text,\n        parentNode : parentNode\n    }, EnabledBinding)();\n\n    scopeInfo.bindings.push(binding);\n};\n\nlet bindTemplateRepeat = function(template, scopeInfo) {\n    let marker = document.createComment(`repeat ${template.id} with ${template.getAttribute('repeat')}`);\n    let binding = Make({\n        originalNodeValue : template.getAttribute('repeat'),\n        template : template,\n        marker : marker,\n    }, TemplateRepeatBinding)();\n\n    console.log('replace template with marker');\n    polyMask(template.parentNode).replaceChild(marker, template);\n    scopeInfo.bindings.push(binding);\n};\n\n/**\n * binds the events specified for a Node\n *\n * @param {string[]} events\n * @param {Node} node\n * @param {ScopePrototype} scope\n */\nlet bindEvents = function(events, node, scope){\n\tlet eventRegex = /{[A-Za-z0-9\\-_\\.: \\(\\)]*}/g;\n\n\tevents = events.match(eventRegex);\n\n\tevents.forEach(function(event){\n\t\tconsole.log(event);\n\t\tevent = event.replace(/[{}]/g, '');\n\t\tlet [name, method] = event.split(':');\n\n        if (scope.$methods && scope.$methods[method.trim()]) {\n            node.addEventListener(name.trim(), e => {\n                scope.$methods[method.trim()].apply(scope, [e]);\n\n                scope.__apply__();\n            });\n        }\n\t});\n};\n\nlet bindAuto = function(text, scopeInfo, template) {\n    let binding = Make({\n        scopeName : text,\n        template : template\n    }, AutoBinding)();\n\n    scopeInfo.bindings.push(binding);\n}\n\nlet executeWatchers = function(scope) {\n    watcherList.get(scope) && watcherList.get(scope).forEach(watcher => {\n        let value = parseExpression(watcher.expression, scope);\n\n        expressionTracking[watcher.expression] = expressionTracking[watcher.expression] ||{ value : '', newValue : '' };\n\n        if (expressionTracking[watcher.expression].value !== value) {\n            watcher.cb.apply(scope, [value]);\n\n            expressionTracking[watcher.expression].newValue = value;\n        }\n    });\n}\n\n/**\n * Checks every binding for the given scope and updates every value.\n *\n * @param {ScopePrototype} scope\n * @param {ScopeInfo} scopeInfo\n */\nexport let recycle = function (scope) {\n    let t0 = window.performance.now();\n\n    if (scope) {\n        executeWatchers(scope);\n        scopeList.get(scope).bindings.forEach(binding => binding.update(scope));\n\n    } else {\n        scopeIndex.forEach(scope => {\n            executeWatchers(scope);\n\t        scopeList.get(scope).bindings.forEach(binding => binding.update(scope));\n        });\n    }\n\n    Object.keys(expressionTracking).forEach(expr => {\n        expr = expressionTracking[expr];\n\n        expr.value = expr.newValue;\n    });\n\n    let t1 = window.performance.now();\n    let duration = ((t1 - t0) / 1000).toFixed(2);\n\n    if (scope) {\n        console.log(`scope recycled in ${duration}s`, scope);\n    } else {\n        console.log(`full recycle in ${duration}s`);\n    }\n};\n\nexport let destoryScope = function(scope) {\n    scopeList.delete(scope);\n    scopeIndex.splice(scopeIndex.indexOf(scope), 1);\n    watcherList.delete(scope);\n};\n\n/**\n * Returns the value of an DOM Node\n *\n * @param {Node} node\n */\nlet getElementValue = function(node){\n    if (node.localName === 'input') {\n        return node.value;\n    } else {\n        return 'UNKNOWN NODE!';\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Bind.js\n **/","\n/**\n * Parses an object expression\n *\n * @param {string} source\n * @param {ScopePrototype} scope\n */\nexport let ObjectParser = function(source){\n    let target = null;\n    let key = false;\n    let keyBuffer = '';\n    let valueBuffer = '';\n    let run = true;\n\n    source.split('').forEach((char) => {\n        if (run) {\n            if (char === '{') {\n                target = {};\n                key = true;\n            } else if(char === ':') {\n                key = false;\n            } else if(char === ',') {\n                target[keyBuffer.trim()] = valueBuffer.trim();\n                keyBuffer = valueBuffer = '';\n                key = true;\n            } else if(char === '}') {\n                target[keyBuffer.trim()] = valueBuffer.trim();\n                run = false;\n            } else if(key) {\n                keyBuffer += char;\n            } else if(!key) {\n                valueBuffer += char;\n            }\n        }\n    });\n\n    return target;\n};\n\n/**\n * Parses a given expression in the context of the given scope.\n *\n * @param {string} expression\n * @param {ScopePrototype} scope\n * @return {ScopePrototype}\n */\nexport let parseExpression = function(expression, scope){\n\tlet chain = expression.split('.');\n\n    chain.forEach(function(item){\n        let pos = item.search(/\\(\\)$/);\n\n        if (scope) {\n            if (pos > 0) {\n                let scopeChild = scope[item.substring(0, pos)];\n\n                if (scopeChild) {\n                    scope = scopeChild.apply(scope);\n                } else {\n                    return '';\n                }\n            } else {\n                scope = scope[item];\n            }\n        }\n    });\n\n    return (typeof scope !== 'null' &&typeof scope !== 'undefined') ? scope : '';\n};\n\n/**\n * Assings an value to an expression in an given scope\n *\n * @param {string} expression\n * @param {ScopePrototype} scope\n * @param {string} value\n */\nexport let assignExpression = function(expression, scope, value){\n    let chain = expression.split('.');\n\n    chain.forEach((property, index) => {\n        if (chain.length -1 !== index) {\n            scope = scope[property];\n        } else {\n            scope[property] = value;\n        }\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Parser.js\n **/","/**\n * Contains all the attribute names\n *\n * @type {Object}\n */\nexport let attributeNames = {\n    events : 'events',\n    visible : 'display',\n    transparent : 'visible',\n    classes : 'class',\n    value : 'value',\n    prefix : 'bind',\n    enabled : 'enabled',\n    model : 'model',\n    modelEvent : 'model-event',\n\n    get : function(key){\n        return `${this.prefix}-${this[key]}`;\n    },\n\n    rename : function(name){\n        return name.replace(`${this.prefix}\\-`, '');\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Mapping.js\n **/","import { Mixin, hasPrototype } from '../../util/make.js';\n\n/**\n * selects a dom node by the given query.\n *\n * @param {string} query\n * @param {Node} context\n * @return {Node}\n */\nexport let selectElement = function(query, context){\n    let node = null;\n\n    if (context) {\n        node = context.querySelector(query);\n    } else {\n        node = document.querySelector(query);\n    }\n\n    node = polyMask(node);\n\n    return node;\n};\n\n/**\n * @param {string} query\n * @param {Node} context\n * @return {NodeList}\n */\nexport let selectAllElements = function(query, context) {\n    let nodeList = null;\n\n    if (context) {\n        nodeList = context.querySelectorAll(query);\n    } else {\n        nodeList = document.querySelectorAll(query);\n    }\n\n    if (window.Polymer) {\n        nodeList = [].map.apply(nodeList, [polyMask]);\n    }\n\n    return nodeList;\n}\n\nexport let unwrapPolymerNode = function(node) {\n    if (!hasPrototype(node, Node)) {\n        return Mixin(node, node.node);\n    }\n\n    return node;\n}\n\nexport let polyMask = function(node){\n    let polyNode = {};\n\n    let additions = {\n        get bare (){\n            return node;\n        }\n    };\n\n    if (window.Polymer) {\n        polyNode = window.Polymer.dom(node);\n    }\n\n    return Mixin(polyNode, node, additions);\n}\n\nexport let getPolyParent = function(node, parentName){\n    while (node && node.localName !== parentName) {\n        node = node.parentNode;\n    }\n\n    if (window.Polymer) {\n        node = window.Polymer.dom(node);\n    }\n\n    return node;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Util.js\n **/","import { hasPrototype } from '../../util/make.js';\nimport { parseExpression } from './Parser.js';\nimport { polyMask } from './Util.js';\n\nlet Binding = {\n\n    /**\n     * @type {string[]}\n     */\n    properties : null,\n\n    /**\n     * @type {string}\n     */\n    originalNodeValue : '',\n\n    /**\n     * @type {Node}\n     */\n    node : null,\n\n    /**\n     * @type {Node}\n     */\n    parentNode : null,\n\n    /**\n     * @type {Boolean}\n     */\n    singleExpression : false,\n\n    _make : function(){\n        this.properties = [];\n    },\n\n    update : function(scope){\n        let text = this.originalNodeValue;\n        let values = this.properties.map(key => {\n            let item = { name : key, value : parseExpression(key, scope) };\n\n            return item;\n        });\n\n        if (this.singleExpression) {\n                text = parseExpression(text, scope);\n        } else {\n            values.forEach(pair => {\n                text = text.replace(`\\{\\{${pair.name}\\}\\}`, pair.value);\n            });\n        }\n\n        if (hasPrototype(this.node, window.Attr)) {\n            polyMask(this.parentNode).setAttribute(this.node.name, text);\n        } else {\n            this.node.textContent = text.replace(/ /g, '\\u00a0');;\n        }\n    }\n};\n\nexport default Binding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/Binding.js\n **/","import { Make } from '../../util/make.js';\nimport Binding from './Binding.js';\nimport { parseExpression } from './Parser.js';\n\nlet ClassBinding = Make(/** @lends ClassBinding.prototype*/{\n\n    /**\n     * @type {Object}\n     */\n    classes : null,\n\n    /**\n     * @type {Node}\n     */\n    parentNode : null,\n\n    /**\n     * @constructs\n     * @extends {Binding}\n     */\n    _make : Binding._make,\n\n    applyClass : function(scope, classes, key) {\n        let expression = classes[key];\n        let value = parseExpression(expression, scope);\n\n        key = (key[0] === '!') ? key.substr(1) : key;\n\n        if (value) {\n            this.parentNode.classList.add(key);\n        } else {\n            this.parentNode.classList.remove(key);\n        }\n    },\n\n    update : function(scope){\n        let classes = JSON.parse(JSON.stringify(this.classes));\n\n        Object.keys(classes)\n            .filter(key => key.indexOf('!') === 0)\n            .forEach(this.applyClass.bind(this, scope, classes));\n\n        setTimeout(() => {\n            Object.keys(classes)\n                .filter(key => key.indexOf('!') !== 0)\n                .forEach(this.applyClass.bind(this, scope, classes));\n        }, 0);\n    }\n\n}, Binding).get();\n\nexport default ClassBinding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/ClassBinding.js\n **/","import { Make } from '../../util/make.js';\nimport { parseExpression, assignExpression } from './Parser.js';\nimport { attributeNames } from './Mapping.js';\nimport Binding from './Binding.js';\n\nlet TwoWayBinding = Make(/** @lends TwoWayBinding.prototype*/{\n    /**\n     * @type {string}\n     */\n    currentValue : '',\n\n    /**\n     * @type {Node}\n     */\n    parentNode : null,\n\n    /**\n     * @type {boolean}\n     */\n    indirect : false,\n\n    /**\n     * @type {string}\n     */\n    viewBinding : '',\n\n    update : function(scope){\n        let value = parseExpression(this.properties[0], scope);\n        let attribute = attributeNames.rename(this.node.name);\n\n        if (!this.indirect){\n            this.parentNode.setAttribute(attribute, value);\n        } else {\n            let oldValue = parseExpression(this.viewBinding, this.parentNode);\n\n            if (value !== oldValue) {\n                assignExpression(this.viewBinding, this.parentNode, value);\n                this.currentValue = value;\n            }\n        }\n    }\n}, Binding).get();\n\nexport default TwoWayBinding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/TwoWayBinding.js\n **/","import {recycle, watcherList, destoryScope } from './Bind.js';\n\n/**\n * Prototype for data binding scopes.\n */\nlet ScopePrototype = {\n\n    /**\n     * will apply the current state of the bound model.\n     *\n     * @param {function} fn\n     */\n\t__apply__ : function(fn, localRecycle){\n        if (fn) {\n            fn();\n        }\n\n\t\treturn recycle(localRecycle ? this : null);\n\t},\n\n    __watch__ : function(expression, cb) {\n        if (!watcherList.has(this)) {\n            watcherList.set(this, []);\n        }\n\n        watcherList.get(this).push({\n            expression : expression,\n            cb : cb\n        });\n    },\n\n    __destroy__ : function() {\n        destoryScope(this);\n    }\n};\n\nexport default ScopePrototype;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/ScopePrototype.js\n **/","import { Make } from '../../util/make.js';\nimport Binding from './Binding.js';\nimport { parseExpression } from './Parser.js';\n\nlet EnabledBinding = Make(/** @lends EnabledBinding.prototype*/{\n    /**\n     * @type {Node}\n     */\n    parentNode : null,\n\n    /**\n     * @constructs\n     * @extends {Binding}\n     */\n    _make : Binding._make,\n\n    update : function(scope){\n        let value = parseExpression(this.originalNodeValue, scope);\n\n        if (!value) {\n            this.parentNode.setAttribute('disabled', '');\n        } else {\n            this.parentNode.removeAttribute('disabled');\n        }\n    }\n\n}, Binding).get();\n\nexport default EnabledBinding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/EnabledBinding.js\n **/","import { Make } from '../../util/make.js';\nimport Binding from './Binding.js';\nimport { parseExpression } from './Parser.js';\nimport { bindNode } from './Bind.js';\nimport { polyMask, getPolyParent } from './Util.js';\n\nlet TemplateRepeatBinding = Make(/** @lends TemplateRepeatBinding.prototype*/{\n\n    /**\n     * @type {WeakMap<Node>}\n     */\n    itemNodeList : null,\n\n    /**\n     * @type {WeakMap<ScopePrototype>}\n     */\n    itemScopeList : null,\n\n    /**\n     * @type {Node}\n     */\n    template : null,\n\n    /**\n     * @type {Node}\n     */\n    marker : null,\n\n    /**\n     * @type {Array}\n     */\n    modelBackup : null,\n\n    /**\n     * @constructs\n     * @extends {Binding}\n     * @return {void}\n     */\n    _make : function(){\n        Binding._make.apply(this);\n\n        this.itemNodeList = new WeakMap();\n        this.itemScopeList = new WeakMap();\n        this.modelBackup = [];\n    },\n\n    renderItem : function(model, scope, itemName, cursor, polyParent, item, index){\n        let node = null;\n\n        if (this.itemNodeList.has(item)) {\n            node = this.itemNodeList.get(item);\n            let childScope = this.itemScopeList.get(item);\n\n            childScope.$first = index === 0;\n            childScope.$last = model.length -1 === index;\n            childScope.$index = index;\n        } else {\n            let childScope = Make({\n                $first : index === 0,\n                $last : model.length-1 === index,\n                $index : index\n            }, scope).get();\n\n            childScope[itemName] = item;\n\n            node = document.importNode(this.template.content, true).firstElementChild;\n            bindNode(node, childScope, true);\n\n            this.itemNodeList.set(item, node);\n            this.itemScopeList.set(item, childScope);\n        }\n\n        if (cursor.value && cursor.value.parentNode) {\n            if (node !== cursor.value) {\n                if (polyParent) {\n                    getPolyParent(cursor.value, polyParent).insertBefore(node, cursor.value);\n                } else {\n                    polyMask(cursor.value.parentNode).insertBefore(node, cursor.value);\n                }\n            } else {\n                cursor.value = cursor.value.nextElementSibling;\n            }\n        } else {\n            if (polyParent) {\n                getPolyParent(this.marker.parentNode, polyParent).appendChild(node);\n            } else {\n                polyMask(this.marker.parentNode).appendChild(node);\n            }\n        }\n    },\n\n    update : function(scope){\n        let [itemName, link, expression] = this.originalNodeValue.split(' ');\n        let model = parseExpression(expression, scope);\n        let polyParent = this.template.getAttribute('bind-polymer-parent');\n\n        if (link !== 'in') {\n            console.console.error('DataBinding: invalide expression', this.originalNodeValue);\n            return;\n        }\n\n        if (Array.isArray(model)) {\n\n            this.modelBackup.forEach(item => {\n                if (model.indexOf(item) < 0) {\n                    if (polyParent) {\n                        getPolyParent(this.marker, polyParent).removeChild(this.itemNodeList.get(item));\n                    } else {\n                        polyMask(this.marker.parentNode).removeChild(this.itemNodeList.get(item));\n                        this.itemNodeList.delete(item);\n                    }\n                }\n            });\n\n            this.modelBackup = model.slice();\n\n            if (window.Polymer) {\n                window.Polymer.dom.flush();\n            }\n\n            let cursor = {\n                value : this.marker.nextElementSibling\n            };\n\n            model.forEach(this.renderItem.bind(this, model, scope, itemName, cursor, polyParent));\n        }\n    }\n\n}, Binding).get();\n\nexport default TemplateRepeatBinding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/TemplateRepeatBinding.js\n **/","import { Make } from '../../util/make.js';\nimport Binding from './Binding.js';\nimport { parseExpression } from './Parser.js';\nimport { makeTemplate } from './Template.js';\n\nlet AutoBinding = Make(/** @lends AutoBinding.prototype*/{\n\n    scopeName : '',\n\n    /** @type {HTMLTemplateNode} */\n    template : null,\n\n    _isBound : false,\n\n    _make : function(){},\n\n    update : function(scope) {\n        if (!this._isBound) {\n            let subScope = parseExpression(this.scopeName, scope);\n\n            setTimeout(() => {\n                let scopeHolder = null;\n                let scopeObjName = null;\n\n                if (this.scopeName.lastIndexOf('.') > 0) {\n                    scopeHolder = this.scopeName.split('.');\n                    scopeObjName =  scopeHolder.pop();\n                    scopeHolder = parseExpression(scopeHolder.join('.'), scope);\n\n                    scopeHolder[scopeObjName] = makeTemplate(this.template, subScope, true);\n                } else {\n                    makeTemplate(this.template, subScope, true);\n                }\n            }, 0);\n\n            this._isBound = true;\n        }\n    }\n\n}, Binding).get();\n\nexport default AutoBinding;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/AutoBinding.js\n **/","import NetworkRequest from '../../core/prototypes/NetworkRequest.js';\nimport { Make, Mixin } from '../../util/make.js';\n\n\nlet FakeTemplate = {\n    _markup : '',\n\n    _make : function(markup) {\n        this._markup = markup;\n    },\n\n    get content() {\n        let fragment = new DocumentFragment();\n        let container = document.createElement('div');\n\n        container.innerHTML = this._markup;\n\n        [].forEach.apply(container.childNodes, [element => {\n            fragment.appendChild(element);\n        }]);\n\n        return fragment;\n    }\n};\n\nexport let importTemplate = function(source, template) {\n    let request = Make(NetworkRequest)(source, {});\n\n    return request.send().then(markup => {\n        let tplContainer = Make(FakeTemplate)(markup);\n\n        return Mixin(tplContainer, template);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/TemplateLoader.js\n **/","\n/**\n * @param {Object} object\n */\nlet stripHashKey = function(object){\n\tif (Array.isArray(object)) {\n\t\tobject = object.map(stripHashKey);\n\n\t} else {\n\t\tobject = JSON.parse(JSON.stringify(object));\n\n\t\tObject.keys(object).forEach(function(key){\n\t\t\tif (key == '$$hashKey') {\n\t\t\t\tdelete object[key];\n\t\t\t}else if (typeof object[key] === 'object' ) {\n\t\t\t\tobject[key] = stripHashKey(object[key]);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn object;\n}\n\n/**\n * @lends NetworkRequest.prototype\n */\nlet NetworkRequest = {\n    /**\n     * @private\n     * @type {Object}\n     */\n    _body : {},\n\n    /**\n     * @private\n     * @type {Object}\n     */\n\t_headers : null,\n\n    /**\n     * @type {string}\n     */\n\ttype : '',\n\n    /**\n     * @type {string}\n     */\n\tmethod : '',\n\n    /**\n     * @type {string}\n     */\n\turl : '',\n\n    /**\n     * @type {function[]}\n     */\n    _listeners : null,\n\n\t/**\n\t * The constructor for the NetworkRequest. It simply sets up the properties.\n\t *\n\t * @constructs\n\t * @param {string} url\n\t * @param {Object} config\n\t * @return {NetworkRequest}\n\t */\n\t_make : function(url, { method='GET', type='none' }){\n\t\tthis.type = type;\n\t\tthis.method = method;\n        this._headers = {};\n\t\tthis.url = url;\n        this._listeners = [];\n\t},\n\n\t/**\n\t * this method will set the given object as the request body.\n\t *\n\t * @param {Object} data\n\t * @return {NetworkRequest}\n\t */\n\tbody : function(data){\n\t\tthis._body = data;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * This method will set the request headers, in case custom headers are required.\n\t *\n\t * @param {Object} headers\n\t * @return {NetworkRequest}\n\t */\n\theaders : function(headers) {\n\t\tthis._headers = headers;\n\n\t\treturn this;\n\t},\n\n    /**\n     * Sets a single header for this request.\n     *\n     * @param {string} key\n     * @param {string} value\n     * @return {NetworkRequest}\n     */\n    setHeader : function(key, value) {\n        this._headers[key] = value;\n\n        return this;\n    },\n\n    /**\n     * @param {function} fn\n     */\n    onReady : function(fn){\n        this._listeners.push(fn);\n    },\n\n\t/**\n\t * This will actually create the network connection and initiate the request.\n\t *\n\t * @return {Promise}\n\t */\n\tsend : function(){\n\t\tlet self = this;\n\t\tlet xhr = new XMLHttpRequest();\n\n\t\tif (this.method === 'GET' && this._body) {\n\t\t\tthis.url += '?' + Object.keys(this._body).map(function(key){\n\t\t\t\treturn `${key}=${self._body[key]}`;\n\t\t\t}).join('&');\n\t\t}\n\n\t\txhr.open(this.method, this.url, true);\n\n\t\tlet promise = new Promise((success, failure) => {\n\t\t\txhr.onreadystatechange = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tlet response = xhr.response;\n\n\t\t\t\t\t\tif (xhr.getResponseHeader('Content-Type').indexOf('application/json') > -1 && typeof response  === 'string') {\n                            response = JSON.parse(response);\n\t\t\t\t\t\t}\n\n                        this._listeners.forEach(fn => fn(xhr));\n\n\t\t\t\t\t\tsuccess(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfailure(xhr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tObject.keys(this._headers).forEach(function(key){\n\t\t\txhr.setRequestHeader(key, self._headers[key]);\n\t\t});\n\n\t\tif (this.type === 'json') {\n            let body = this._body;\n\n\t\t\txhr.setRequestHeader('Content-Type', 'application/json');\n\n            if (body){\n                body = stripHashKey(body);\n                body = JSON.stringify(body);\n            }\n\n\t\t\txhr.send(body);\n\t\t} else {\n\t\t\txhr.send(this._body);\n\t\t}\n\n\t\treturn promise;\n\t}\n};\n\nexport default NetworkRequest;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/core/prototypes/NetworkRequest.js\n **/","import { DataBinding } from '../DataBinding.js';\nimport { Make } from '../../util/make.js';\n\nlet ViewPortInstance = {\n    _scope : null,\n    _bound : false,\n    _innerScope : null,\n    _originalTemplate : null,\n\n    _make : function(scope) {\n        this._scope = scope;\n    },\n\n    bind : function(context) {\n        if (!this._bound) {\n            this._scope.templateUrl = context.template;\n            this._scope.__apply__();\n\n            if (!this._originalTemplate) {\n                this._originalTemplate = this._scope.element.firstElementChild;\n            }\n\n            this._innerScope = DataBinding.makeTemplate(this._originalTemplate, context.scope || {});\n            this._bound = true;\n\n            context.scope = this._innerScope;\n        } else {\n            console.error('ViewPort: viewport is already bound!');\n        }\n\n        return this;\n    },\n\n    update : function(...args) {\n        return this._innerScope.__apply__(...args);\n    },\n\n    get scope() {\n        return this._innerScope;\n    },\n\n    destory : function(){\n        this._innerScope.__destroy__();\n\n        while (this._scope.element.children.length > 0) {\n            this._scope.element.removeChild(this._scope.element.firstChild);\n        }\n\n        this._scope.element.appendChild(this._originalTemplate);\n        this._bound = false;\n    }\n};\n\nlet ViewPort = {\n\n    _elements : {},\n\n    /** @type {Application} */\n    _application : null,\n\n    /**\n     * @constructs\n     * @param {Application} application\n     */\n    _make : function(application){\n        let style = document.head.appendChild(document.createElement('style'));\n        let template = document.createElement('template');\n\n        style.innerHTML = `\n            .view-port {\n                position: absolute;\n                left: 0;\n                top: 0;\n                bottom: 0;\n                right: 0;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n        `;\n\n        template.id = 'view-port';\n        template.setAttribute('bind-element', '');\n        template.setAttribute('component', '');\n\n        template.innerHTML = `\n            <div class=\"custom-element\">\n                <template src=\"{{templateUrl}}\" replace></template>\n            </div>\n        `;\n\n        application.on('newElement:view-port', scope => {\n            this._elements[scope.name] = Make(ViewPortInstance)(scope);\n\n            application.emit(`viewPort:ready:${scope.name}`);\n        });\n\n        this._application = application;\n\n        DataBinding.makeTemplate(template, function(){ return {} }, application);\n    },\n\n    getInstance : function(name){\n        return new Promise((success) => {\n            if (this._elements[name]) {\n                success(this._elements[name]);\n            } else {\n                this._application.on(`viewPort:ready:${name}`, () => success(this._elements[name]));\n            }\n        });\n    }\n};\n\nexport default ViewPort;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/af/modules/DataBinding/ViewPort.js\n **/","import App from './App.js';\nimport { DataBinding } from '../af/modules/DataBinding.js';\nimport { Make } from '../af/util/make.js';\n\nlet UiPage = Make(/** @lends UiPage.prototype*/{\n\n    _elements : {},\n\n    _active : null,\n\n    _make : function(){\n\n        App.on('newElement:ui-page', scope => {\n            this._elements[scope.name] = scope;\n\n            if (scope.active) {\n                this._active = scope;\n            }\n\n            App.emit(`ui-page:${scope.name}`, scope);\n        });\n    },\n\n    activate : function(name) {\n        this._active.active = false;\n        this._elements[name].active = true;\n        this._active = this._elements[name];\n\n        App.emit(`ui-page:activated`);\n        App.emit(`ui-page:${name}:activated`);\n        this._active.__apply__();\n    },\n\n    init : function() {\n        DataBinding.makeTemplate('#ui-page', function(){\n            return {\n                side : 'left',\n\n                active : false,\n\n                isRight : function(){\n                    return this.side === 'right';\n                },\n\n                isLeft : function(){\n                    return this.side === 'left';\n                }\n            };\n        }, App);\n    }\n})();\n\nexport default UiPage;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/UiPage.js\n **/","import App from './App.js';\nimport { DataBinding } from '../af/modules/DataBinding.js';\nimport Profile from './Profile.js';\nimport UiPage from './UiPage.js';\n\nApp.on('ui-page:main-view', () => {\n    /** @type {ScopePrototype} */\n    let {scope } = DataBinding.makeTemplate('#main-view', {\n        profile : null,\n\n        $methods : {\n            manageWords : function(){\n                UiPage.activate('word-manager');\n            },\n\n            trainWords : function(){\n                UiPage.activate('word-trainer');\n            },\n\n            reset : function(){\n                this.profile.progress = 0;\n\n                this.profile.wordList.forEach(word => {\n                    word.tests = 0;\n                    word.right = 0;\n                    word.priority = 0;\n                });\n\n                Profile.save(this.profile);\n            }\n        }\n    });\n\n    App.on('ui-page:activated', function(){\n        console.log(scope.profile);\n        if (scope.profile) {\n            Profile.save(scope.profile);\n        }\n    });\n\n    Profile.get().then(profile => {\n        scope.profile = profile;\n\n        scope.__apply__();\n    });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/MainView.js\n **/","import { Make } from '../af/util/make.js';\nimport Word from './Word.js';\n\nlet db = new Promise((success, failure) => {\n    let request = window.indexedDB.open('VocTrainer.ProfileStroage', 3);\n\n    request.onsuccess = function(e) {\n        let db = e.target.result;\n\n        let Interface = {\n            getProfile : function(name) {\n                return new Promise((success, failure) => {\n                    let request = db.transaction(['profile']).objectStore('profile').get(name);\n\n                    request.onsuccess = function(e){\n                        success(e.target.result);\n                    };\n\n                    request.onerror = failure;\n                });\n            },\n\n            saveProfile : function(profile){\n                return new Promise(success => {\n                    let request = db.transaction(['profile'], 'readwrite').objectStore('profile').put(profile);\n\n                    request.onsuccess = function(){\n                        success();\n                    }\n                });\n            }\n        };\n\n        success(Interface);\n    };\n\n    request.onupgradeneeded = function(e){\n        let db = e.target.result;\n\n        console.log('upgrading DB', e.oldVersion, 1);\n\n        if (e.oldVersion < 1) {\n            db.createObjectStore('profile', { keyPath : 'name' });\n        }\n    };\n\n    request.onerror = failure;\n});\n\nlet ProfilePrototype = {\n    userLang : '',\n    targetLang : '',\n    progress : 0,\n    lasttTime : '',\n    wordList : null,\n    name: '',\n\n    _make : function(name){\n        this.wordList = [];\n        this.name = name;\n    },\n\n    langSet : function(){\n        return this.userLang.length > 0 && this.targetLang.length > 0;\n    },\n\n    canTest : function(){\n        return this.langSet() && this.wordList.length > 0;\n    }\n}\n\nlet Profile = {\n\n    _profile : null,\n\n    get : function(){\n        if (!this._profile) {\n            this._profile = db.then(db => {\n                return db.getProfile('default');\n            }).then(profile => {\n\n                if (profile) {\n                    profile = Make(profile, ProfilePrototype).get();\n                    profile.wordList = profile.wordList.map(word => Make(word, Word).get());\n                } else {\n                    profile = Make(ProfilePrototype)('default');\n                }\n\n                console.log('profile', profile);\n\n                return profile;\n            }, error => {\n                console.error(error);\n            });\n        }\n\n        return this._profile;\n    },\n\n    save : function(profile) {\n        db.then(db => {\n            db.saveProfile(profile);\n        });\n    }\n}\n\n\nexport default Profile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/Profile.js\n **/","let Word = {\n    text : '',\n    translation : '',\n    pronounciation : '',\n    right : 0,\n    tests : 0,\n    priority : 0,\n\n    get percent() {\n        return Math.round(this.right / this.tests * 100);\n    }\n}\n\nexport default Word;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/Word.js\n **/","import App from './App.js';\nimport { DataBinding } from '../af/modules/DataBinding.js';\nimport { Make } from '../af/util/make.js';\nimport Profile from './Profile.js';\nimport UiPage from './UiPage.js';\nimport Word from './Word.js';\n\nApp.on('ui-page:word-manager', () => {\n    /** @type {ScopePrototype} */\n    let { scope : managerScope } = DataBinding.makeTemplate('#word-manager', {\n        profile : null,\n\n        selection : -1,\n\n        hideList : function(){\n            return !!editorScope.item;\n        },\n\n        $methods : {\n            backToMain : function(){\n                UiPage.activate('main-view');\n            },\n            selectionChanged : function(e){\n                if (this.profile) setWordItem();\n            }\n        }\n    });\n\n    let { scope : editorScope } = DataBinding.makeTemplate('#word-editor', {\n        item : null,\n        profile : null,\n\n        hasItem : function(){\n            return !!this.item;\n        },\n\n        checkNew : function(){\n            return this.item && !this.item.isNew;\n        },\n\n        hideEditor : function(){\n            return !this.item;\n        },\n\n        $methods : {\n            removeItem : function(){\n                let index = this.profile.wordList.indexOf(this.item);\n\n                this.profile.wordList.splice(index, 1);\n            },\n\n            closeEditor : function(){\n                this.item = null;\n                managerScope.selection = -1;\n            }\n        }\n    });\n\n    let setWordItem = function(){\n        if (editorScope.item && !editorScope.item.isNew) {\n            Profile.save(editorScope.profile);\n        }\n\n        if (managerScope.profile && managerScope.selection < managerScope.profile.wordList.length) {\n            editorScope.item = managerScope.profile.wordList[managerScope.selection];\n        } else if (managerScope.selection > 0 || (editorScope.profile &&editorScope.profile.wordList.length  === 0)) {\n            editorScope.item = Make({\n                text : '',\n                translation : '',\n                pronounciation : '',\n                isNew : true\n            }, Word).get();\n        } else {\n            editorScope.item = null;\n        }\n    }\n\n    managerScope.__watch__('profile', setWordItem);\n\n    editorScope.__watch__('item.text', function(value){\n        if (value && value !== '' && this.item.isNew) {\n            this.item.isNew = false;\n            this.profile.wordList.push(this.item);\n        }\n    });\n\n    Profile.get().then(profile => {\n        managerScope.profile = editorScope.profile = profile;\n\n        managerScope.__apply__();\n    });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/WordManager.js\n **/","import App from './App.js';\nimport { DataBinding } from '../af/modules/DataBinding.js';\nimport { Make } from '../af/util/make.js';\nimport Profile from './Profile.js';\nimport TestUnit from './TestUnit.js';\nimport UiPage from './UiPage.js';\n\nApp.on('ui-page:word-trainer', () => {\n\n    let next = function(){\n        scope.currentIndex += 1;\n        let item = scope.testList[scope.currentIndex];\n        let userLang = (scope.language === scope.profile.userLang);\n\n        if (scope.testUnit) {\n            scope.testUnitList.push(scope.testUnit);\n        }\n\n        if (item){\n            scope.testUnit = Make({\n                text : userLang ? item.text : item.translation,\n                translation : userLang ? item.translation : item.text,\n                pronounciation : userLang ? item.pronounciation : null,\n                word : item\n            }, TestUnit).get();\n\n            return true;\n        }\n\n        return false;\n    };\n\n    let finalize = function(){\n        scope.testUnitList.forEach(unit => {\n            if (unit.status) {\n                unit.word.right = parseInt(unit.word.right) + 1;\n                unit.word.priority = parseInt(unit.word.priority) + 1;\n            }\n\n            unit.word.tests = parseInt(unit.word.tests) + 1;\n        });\n\n        let rightTests = 0;\n        let totalTests = 0;\n        let notTested = 0;\n        let totalWords = scope.profile.wordList.length;\n\n        scope.profile.wordList.forEach(word => {\n            rightTests += parseInt(word.right);\n            totalTests += parseInt(word.tests);\n\n            if (word.tests === 0) {\n                notTested += 1;\n            }\n        });\n\n        console.log('Tests:', rightTests, '/', totalTests);\n        console.log('Words Tested:', totalWords - notTested, '/', totalWords);\n\n        scope.profile.progress = ((rightTests / totalTests) * ((totalWords - notTested) / totalWords) * 100).toFixed(2);\n        scope.profile.lastTime = (new Date()).toLocaleString();\n    }\n\n    /**\n     * Randomize array element order in-place.\n     * Using Durstenfeld shuffle algorithm.\n     */\n    let shuffleArray = function(array) {\n        for (var i = array.length - 1; i > 0; i--) {\n            var j = Math.floor(Math.random() * (i + 1));\n            var temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n        return array;\n    };\n\n    let { scope } = DataBinding.makeTemplate('#word-trainer', {\n        profile : null,\n\n        language : null,\n\n        /**\n         * @type {TestUnit}\n         */\n        testUnit : null,\n\n        /**\n         * @type {Word[]}\n         */\n        testList : null,\n\n        /**\n         * @type {TestUnit[]}\n         */\n        testUnitList : null,\n\n        currentIndex : 0,\n\n        noLanguage : function(){\n            return !this.language;\n        },\n\n        isLanguage : function(){\n            return !!this.language;\n        },\n\n        getIndex : function(){\n            return this.currentIndex + 1;\n        },\n\n        hasPronounc : function(){\n            return !!(this.testUnit && this.testUnit.pronounciation);\n        },\n\n        getButtonStatus(){\n            if (this.testUnit) {\n                if (this.testUnit.status === null) {\n                    return 'icons:done';\n                } else if (this.testUnit.status) {\n                    return 'icons:done-all';\n                } else if (!this.testUnit.status) {\n                    return 'icons:clear';\n                }\n            }\n        },\n\n        noStatus : function(){\n            return !!(this.testUnit && this.testUnit.status === null);\n        },\n\n        wrongStatus : function(){\n            return !!(this.testUnit && this.testUnit.status !== null && !this.testUnit.status);\n        },\n\n        rightStatus : function(){\n            return !!(this.testUnit && this.testUnit.status !== null && this.testUnit.status);\n        },\n\n        hasStatus : function(){\n            return !!(this.testUnit && this.testUnit.status !== null);\n        },\n\n        $methods : {\n            chooseUserLang : function(){\n                this.language = this.profile.userLang;\n                next();\n            },\n\n            chooseTargetLang : function(){\n                this.language = this.profile.targetLang;\n                next();\n            },\n\n            check : function(){\n                this.testUnit.checkAnswer();\n\n                if (this.testUnit.status) {\n                    this.testUnit.answer = this.testUnit.translation;\n                }\n            },\n\n            checkOnEnter : function(e){\n                if (e.which === 13) {\n                    this.$methods.check.apply(this);\n                }\n            },\n\n            continue : function() {\n                if(!next()){\n                    this.$methods.back();\n                };\n            },\n\n            back : function(){\n                if (scope.profile) {\n                    finalize();\n                }\n\n                UiPage.activate('main-view');\n            }\n        }\n    });\n\n    App.on('ui-page:word-trainer:activated', () => {\n        let wordList = shuffleArray(scope.profile.wordList.slice()).sort((a, b) => {\n            return a.priority > b.priority;\n        });\n\n        let testList = [];\n\n        for (let i = 0; i < 20 &&i < wordList.length; i+= 1) {\n            testList.push(wordList[i]);\n        }\n\n        scope.testList = testList;\n        scope.testUnitList = [];\n        scope.currentIndex = -1;\n        scope.language = null;\n        scope.__apply__();\n    });\n\n    Profile.get().then(profile => {\n        scope.profile = profile;\n    })\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/WordTrainer.js\n **/","let splitChar = [',', ''];\n\nlet TestUnit = {\n    text : '',\n    translation : '',\n    pronounciation : null,\n    answer : '',\n    status : null,\n    word : null,\n\n    checkAnswer : function(){\n        let split = splitChar.find(char => this.translation.indexOf(char) > -1);\n\n        if (split) {\n            this.status = this.translation.split(split).map(word => word.trim()).indexOf(this.answer) > -1;\n        } else {\n            this.status = this.answer.trim() === this.translation;\n        }\n\n    }\n};\n\nexport default TestUnit;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/TestUnit.js\n **/"],"sourceRoot":""}